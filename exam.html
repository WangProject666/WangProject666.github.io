<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>长春市教育考试院 - 中考系统</title>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@300;400;500;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-color: #0660cd;
            --primary-dark: #054da3;
            --secondary-color: #6c757d;
            --success-color: #28a745;
            --danger-color: #dc3545;
            --warning-color: #ffc107;
            --light-color: #f8f9fa;
            --dark-color: #343a40;
            --border-radius: 8px;
            --box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            --transition: all 0.3s ease;
        }
        
        body {
            font-family: 'Noto Sans SC', 'Microsoft YaHei', Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f8fafc;
            color: #333;
            line-height: 1.6;
        }
        
        .container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .header {
            background: linear-gradient(135deg, var(--primary-color), var(--primary-dark));
            color: white;
            padding: 20px;
            text-align: center;
            font-size: 28px;
            font-weight: 700;
            border-radius: var(--border-radius);
            margin-bottom: 30px;
            box-shadow: var(--box-shadow);
            position: relative;
            overflow: hidden;
        }
        
        .header::after {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" preserveAspectRatio="none"><path fill="rgba(255,255,255,0.1)" d="M0,0 L100,0 L100,100 L0,100 Z" /></svg>');
            opacity: 0.1;
        }
        
        .nav-tabs {
            display: flex;
            list-style: none;
            padding: 0;
            margin: 0 0 25px 0;
            border-bottom: 2px solid #e9ecef;
            position: relative;
        }
        
        .nav-tabs li {
            padding: 12px 25px;
            cursor: pointer;
            background-color: transparent;
            margin-right: 5px;
            border-radius: var(--border-radius) var(--border-radius) 0 0;
            transition: var(--transition);
            font-weight: 500;
            color: var(--secondary-color);
            position: relative;
        }
        
        .nav-tabs li:hover {
            color: var(--primary-color);
            background-color: rgba(6, 96, 205, 0.1);
        }
        
        .nav-tabs li.active {
            background-color: white;
            color: var(--primary-color);
            font-weight: 600;
            box-shadow: 0 -2px 5px rgba(0,0,0,0.05);
        }
        
        .nav-tabs li.active::after {
            content: "";
            position: absolute;
            bottom: -2px;
            left: 0;
            right: 0;
            height: 2px;
            background-color: var(--primary-color);
        }
        
        .tab-content {
            display: none;
            background-color: white;
            padding: 30px;
            border-radius: 0 var(--border-radius) var(--border-radius) var(--border-radius);
            box-shadow: var(--box-shadow);
            animation: fadeIn 0.5s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .tab-content.active {
            display: block;
        }
        
        .form-container {
            margin-bottom: 25px;
            background-color: #f8fafc;
            padding: 25px;
            border-radius: var(--border-radius);
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        }
        
        .form-group {
            margin-bottom: 20px;
            display: flex;
            align-items: center;
        }
        
        label {
            display: inline-block;
            width: 150px;
            text-align: right;
            margin-right: 15px;
            font-weight: 500;
            color: var(--dark-color);
        }
        
        input, select {
            padding: 10px 15px;
            width: 250px;
            border: 1px solid #ddd;
            border-radius: var(--border-radius);
            font-size: 15px;
            transition: var(--transition);
            background-color: white;
        }
        
        input:focus, select:focus {
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(6, 96, 205, 0.2);
            outline: none;
        }
        
        button {
            padding: 10px 20px;
            background-color: var(--primary-color);
            color: white;
            border: none;
            border-radius: var(--border-radius);
            cursor: pointer;
            margin-right: 10px;
            font-size: 15px;
            font-weight: 500;
            transition: var(--transition);
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        
        button:hover {
            background-color: var(--primary-dark);
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.15);
        }
        
        button:active {
            transform: translateY(0);
        }
        
        button.secondary {
            background-color: var(--secondary-color);
        }
        
        button.secondary:hover {
            background-color: #5a6268;
        }
        
        button.danger {
            background-color: var(--danger-color);
        }
        
        button.danger:hover {
            background-color: #c82333;
        }
        
        .result-table {
            width: 100%;
            border-collapse: separate;
            border-spacing: 0;
            margin-top: 25px;
            background-color: white;
            box-shadow: var(--box-shadow);
            border-radius: var(--border-radius);
            overflow: hidden;
        }
        
        .result-table th, .result-table td {
            border: 1px solid #e9ecef;
            padding: 15px;
            text-align: center;
        }
        
        .result-table th {
            background-color: #f8f9fa;
            font-weight: 600;
            color: var(--dark-color);
        }
        
        .result-table tr:nth-child(even) {
            background-color: #f8fafc;
        }
        
        .result-table tr:hover {
            background-color: #f1f8ff;
        }
        
        .footer {
            text-align: center;
            margin-top: 40px;
            color: var(--secondary-color);
            font-size: 14px;
            padding: 20px 0;
            border-top: 1px solid #eee;
        }
        
        .button-group {
            text-align: center;
            margin: 30px 0;
        }
        
        .alert {
            padding: 15px;
            margin-bottom: 20px;
            border-radius: var(--border-radius);
            font-size: 15px;
            position: relative;
            padding-left: 50px;
        }
        
        .alert::before {
            content: "!";
            position: absolute;
            left: 15px;
            top: 50%;
            transform: translateY(-50%);
            width: 25px;
            height: 25px;
            background-color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
        }
        
        .alert-info {
            background-color: #e7f5ff;
            color: #0c5460;
            border: 1px solid #bee5eb;
        }
        
        .alert-info::before {
            color: #0c5460;
        }
        
        .alert-warning {
            background-color: #fff3cd;
            color: #856404;
            border: 1px solid #ffeeba;
        }
        
        .alert-warning::before {
            color: #856404;
        }
        
        .exam-schedule {
            width: 100%;
            margin-top: 25px;
            border-collapse: separate;
            border-spacing: 0;
            box-shadow: var(--box-shadow);
            border-radius: var(--border-radius);
            overflow: hidden;
        }
        
        .exam-schedule th {
            background-color: var(--primary-color);
            color: white;
            font-weight: 500;
            padding: 15px;
        }
        
        .exam-schedule td {
            padding: 12px 15px;
            border-bottom: 1px solid #e9ecef;
        }
        
        .exam-schedule tr:last-child td {
            border-bottom: none;
        }
        
        .exam-schedule tr:hover td {
            background-color: #f8fafc;
        }
        
        .countdown {
            font-size: 32px;
            text-align: center;
            margin: 30px 0;
            color: var(--primary-color);
            font-weight: 700;
            text-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .countdown span {
            display: inline-block;
            min-width: 60px;
            padding: 5px 10px;
            background-color: white;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            margin: 0 5px;
        }
        
        .progress-container {
            margin: 30px 0;
        }
        
        .progress-text {
            text-align: center;
            margin-bottom: 10px;
            font-size: 16px;
            color: var(--dark-color);
            font-weight: 500;
        }
        
        .progress-bar {
            height: 12px;
            background-color: #e9ecef;
            border-radius: 6px;
            overflow: hidden;
            box-shadow: inset 0 1px 3px rgba(0,0,0,0.1);
        }
        
        .progress {
            height: 100%;
            background: linear-gradient(90deg, var(--primary-color), var(--success-color));
            width: 0%;
            transition: width 0.5s ease;
            border-radius: 6px;
        }
        
        .encouragement {
            font-size: 20px;
            color: var(--success-color);
            text-align: center;
            margin: 30px 0;
            font-weight: 600;
            padding: 15px;
            background-color: rgba(40, 167, 69, 0.1);
            border-radius: var(--border-radius);
        }
        
        .next-subject {
            font-size: 18px;
            color: var(--danger-color);
            text-align: center;
            margin: 20px 0;
            font-weight: 500;
        }
        
        .exam-day {
            background-color: white;
            border-radius: var(--border-radius);
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: var(--box-shadow);
            border-left: 4px solid var(--primary-color);
            transition: var(--transition);
        }
        
        .exam-day:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 15px rgba(0,0,0,0.1);
        }
        
        .current-exam {
            background-color: #e7f5ff;
            border-left: 4px solid var(--success-color);
        }
        
        .exam-time {
            font-weight: 600;
            color: var(--primary-color);
            font-size: 16px;
        }
        
        .subject-status {
            margin-top: 15px;
            padding: 12px;
            background-color: #f1f8ff;
            border-radius: var(--border-radius);
            font-size: 15px;
        }
        
        h2 {
            color: var(--primary-color);
            margin-top: 0;
            margin-bottom: 20px;
            font-weight: 600;
            position: relative;
            padding-bottom: 10px;
        }
        
        h2::after {
            content: "";
            position: absolute;
            bottom: 0;
            left: 0;
            width: 50px;
            height: 3px;
            background-color: var(--primary-color);
            border-radius: 3px;
        }
        
        /* 响应式设计 */
        @media (max-width: 768px) {
            .container {
                padding: 15px;
            }
            
            .header {
                font-size: 22px;
                padding: 15px;
            }
            
            .nav-tabs {
                flex-wrap: wrap;
            }
            
            .nav-tabs li {
                padding: 10px 15px;
                margin-bottom: 5px;
            }
            
            .form-group {
                flex-direction: column;
                align-items: flex-start;
            }
            
            label {
                text-align: left;
                margin-bottom: 8px;
                width: auto;
            }
            
            input, select {
                width: 100%;
            }
            
            .tab-content {
                padding: 20px;
            }
            
            .countdown {
                font-size: 24px;
            }
            
            .countdown span {
                min-width: 50px;
                margin: 0 3px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">长春市教育考试院 - 中考系统</div>
        
        <ul class="nav-tabs" id="navTabs">
            <li data-tab="score">成绩查询</li>
            <li data-tab="schedule">考试时间表</li>
            <li data-tab="countdown" class="active">考试倒计时</li>
        </ul>
        
        <!-- 成绩查询标签页 -->
        <div id="score" class="tab-content">
            <div class="form-container">
                <div class="alert alert-info">
                    提示：此时查询为模拟考试成绩。中考成绩将于2025年7月12日公布。
                </div>
                
                <div class="form-group">
                    <label for="registrationNo">报名序号(10位):</label>
                    <input type="text" id="registrationNo" maxlength="10" placeholder="输入10位报名序号" onkeyup="this.value=this.value.replace(/[^\d]/g,'');">
                </div>
                <div class="form-group">
                    <label for="examNo">准考证号(9位):</label>
                    <input type="text" id="examNo" maxlength="9" placeholder="输入报名序号后九位" onkeyup="this.value=this.value.replace(/[^\d]/g,'');">
                </div>
                <div class="form-group" style="justify-content: center;">
                    <button id="queryBtn">查询成绩</button>
                    <button class="secondary" id="resetBtn">重置</button>
                </div>
            </div>
            
            <table class="result-table" id="resultTable" style="display: none;">
                <tbody>
                    <tr>
                        <td width="110">报名序号</td>
                        <td id="resultRegistrationNo"></td>
                    </tr>
                    <tr>
                        <td>准考证号</td>
                        <td id="resultExamNo"></td>
                    </tr>
                    <tr>
                        <td>姓　　名</td>
                        <td id="resultName"></td>
                    </tr>
                    <tr>
                        <td>语　　文</td>
                        <td id="resultChinese"></td>
                    </tr>
                    <tr>
                        <td>数　　学</td>
                        <td id="resultMath"></td>
                    </tr>
                    <tr>
                        <td>外　　语</td>
                        <td id="resultEnglish"></td>
                    </tr>
                    <tr>
                        <td>物　　理</td>
                        <td id="resultPhysics"></td>
                    </tr>
                    <tr>
                        <td>化　　学</td>
                        <td id="resultChemistry"></td>
                    </tr>
                    <tr>
                        <td>道德与法治</td>
                        <td id="resultEthics"></td>
                    </tr>
                    <tr>
                        <td>历　　史</td>
                        <td id="resultHistory"></td>
                    </tr>
                    <tr>
                        <td>生 物 学</td>
                        <td id="resultBiology"></td>
                    </tr>
                    <tr>
                        <td>地　　理</td>
                        <td id="resultGeography"></td>
                    </tr>
                    <tr>
                        <td>体　　育</td>
                        <td id="resultPE"></td>
                    </tr>
                    <tr>
                        <td>总　　分</td>
                        <td id="resultTotal"></td>
                    </tr>
                </tbody>
            </table>
        </div>
        
        <!-- 考试时间表标签页 -->
        <div id="schedule" class="tab-content">
            <h2>2025年长春市中考时间安排</h2>
            <div class="alert alert-info">
                中考时间：2025年6月27日-6月30日
            </div>
            
            <table class="exam-schedule result-table">
                <tbody>
                    <tr>
                        <th>日期</th>
                        <th>时间</th>
                        <th>科目</th>
                        <th>备注</th>
                    </tr>
                    <tr>
                        <td rowspan="2">6月27日</td>
                        <td>08:30-10:30</td>
                        <td>语文</td>
                        <td>120分钟</td>
                    </tr>
                    <tr>
                        <td>14:00-15:40</td>
                        <td>物理、化学</td>
                        <td>合卷100分钟</td>
                    </tr>
                    <tr>
                        <td rowspan="2">6月28日</td>
                        <td>08:30-10:30</td>
                        <td>数学</td>
                        <td>120分钟</td>
                    </tr>
                    <tr>
                        <td>14:00-15:40</td>
                        <td>道德与法治、历史</td>
                        <td>合卷100分钟，开卷</td>
                    </tr>
                    <tr>
                        <td rowspan="2">6月29日</td>
                        <td>08:30-10:10</td>
                        <td>英语/日语/俄语</td>
                        <td>100分钟</td>
                    </tr>
                    <tr>
                        <td>14:00-15:40</td>
                        <td>法语/德语</td>
                        <td>100分钟</td>
                    </tr>
                    <tr>
                        <td>6月30日</td>
                        <td>14:00-15:40</td>
                        <td>生物学、地理</td>
                        <td>合卷100分钟</td>
                    </tr>
                </tbody>
            </table>
            
            <div class="button-group">
                <button id="printBtn">打印时间表</button>
                <button class="secondary" id="calendarBtn">添加到日历</button>
            </div>
        </div>
        
        <!-- 考试倒计时标签页 -->
        <div id="countdown" class="tab-content active">
            <h2>中考倒计时</h2>
            <div class="countdown" id="countdownDisplay">
                距离2025年中考还有：<br>
                <span id="days">4</span>天 
                <span id="hours">18</span>小时 
                <span id="minutes">19</span>分钟 
                <span id="seconds">9</span>秒
            </div>
            
            <div id="examStatus"><div class="alert alert-info">距离2025年中考还有 4 天</div></div>
            <div id="nextSubject" class="next-subject"></div>
            <div id="encouragement" class="encouragement">中考即将来临，调整好作息时间！</div>
            
            <div class="progress-container">
                <div class="progress-text" id="progressText">中考备考进度：96.3%</div>
                <div class="progress-bar">
                    <div class="progress" id="progressBar" style="width: 96.3365%;"></div>
                </div>
            </div>
            
            <div class="alert alert-info">
                <p>中考日期：2025年6月27日-6月30日</p>
                <p>成绩公布：2025年7月12日</p>
                <p>录取工作：2025年7月中旬开始</p>
            </div>
        </div>
        
        <div class="footer">
            <p>版权所有 © 2025 长春市教育考试院</p>
            <p>联系电话：0431-12345678 | 地址：长春市朝阳区人民大街1234号</p>
        </div>
    </div>

    <script>
        // 预设的报名序号、准考证号和对应成绩数据
        const studentData = [
            {
                registrationNo: "2506080533",
                examNo: "506080533",
                name: "王缤",
                scores: {
                    chinese: 111,
                    math: 119,
                    english: 119,
                    physics: 67,
                    chemistry: 47,
                    ethics: 59,
                    history: 59,
                    biology: 50,
                    geography: 50,
                    pe: 48.7
                }
            },
            {
                registrationNo: "2506080526",
                examNo: "506080526",
                name: "曲润石",
                scores: {
                    chinese: 91,
                    math: 99,
                    english: 101,
                    physics: 59,
                    chemistry: 40,
                    ethics: 53,
                    history: 56,
                    biology: 47,
                    geography: 49,
                    pe: 44.6
                }
            },
            {
                registrationNo: "0000000000",
                examNo: "000000000",
                name: "测试",
                scores: {
                    chinese: 120,
                    math: 120,
                    english: 120,
                    physics: 70,
                    chemistry: 50,
                    ethics: 60,
                    history: 60,
                    biology: 50,
                    geography: 50,
                    pe: 50
                }
            },
            {
                registrationNo: "2506080508",
                examNo: "506080508",
                name: "高琦",
                scores: {
                    chinese: 93,
                    math: 103,
                    english: 102,
                    physics: 59,
                    chemistry: 45,
                    ethics: 54,
                    history: 59,
                    biology: 49,
                    geography: 50,
                    pe: 49
                }
            },
            {
                registrationNo: "2506080631",
                examNo: "506080631",
                name: "吴禹霖",
                scores: {
                    chinese: 100,
                    math: 92,
                    english: 104,
                    physics: 65,
                    chemistry: 39,
                    ethics: 57,
                    history: 55,
                    biology: 48,
                    geography: 50,
                    pe: 50
                }
            }
        ];

        // 考试时间安排
        const examDays = [
            // 第一天 (6月27日)
            {
                date: new Date('2025-06-27'),
                name: "第一天",
                subjects: [
                    {
                        name: "语文",
                        start: new Date('2025-06-27T08:30:00'),
                        end: new Date('2025-06-27T10:30:00')
                    },
                    {
                        name: "物理、化学",
                        start: new Date('2025-06-27T14:00:00'),
                        end: new Date('2025-06-27T15:40:00')
                    }
                ]
            },
            // 第二天 (6月28日)
            {
                date: new Date('2025-06-28'),
                name: "第二天",
                subjects: [
                    {
                        name: "数学",
                        start: new Date('2025-06-28T08:30:00'),
                        end: new Date('2025-06-28T10:30:00')
                    },
                    {
                        name: "道德与法治、历史",
                        start: new Date('2025-06-28T14:00:00'),
                        end: new Date('2025-06-28T15:40:00')
                    }
                ]
            },
            // 第三天 (6月29日)
            {
                date: new Date('2025-06-29'),
                name: "第三天",
                subjects: [
                    {
                        name: "英语/日语/俄语",
                        start: new Date('2025-06-29T08:30:00'),
                        end: new Date('2025-06-29T10:10:00')
                    },
                    {
                        name: "法语/德语",
                        start: new Date('2025-06-29T14:00:00'),
                        end: new Date('2025-06-29T15:40:00')
                    }
                ]
            },
            // 第四天 (6月30日)
            {
                date: new Date('2025-06-30'),
                name: "第四天",
                subjects: [
                    {
                        name: "生物学、地理",
                        start: new Date('2025-06-30T14:00:00'),
                        end: new Date('2025-06-30T15:40:00')
                    }
                ]
            }
        ];

        // 当前查询的学生数据
        let currentStudent = null;

        // 计算总分的函数
        function calculateTotal(scores) {
            return scores.chinese + scores.math + scores.english + 
                   scores.physics + scores.chemistry + scores.ethics + 
                   scores.history + scores.biology + scores.geography + 
                   scores.pe;
        }

        // 查询成绩函数
        function queryScore() {
            const registrationNo = document.getElementById("registrationNo").value;
            const examNo = document.getElementById("examNo").value;
            
            if (!registrationNo || registrationNo.length !== 10) {
                alert("请输入10位报名序号");
                return;
            }
            
            if (!examNo || examNo.length !== 9) {
                alert("请输入报名序号后九位");
                return;
            }
            
            // 查找匹配的学生
            const student = studentData.find(s => 
                s.registrationNo === registrationNo && s.examNo === examNo
            );
            
            if (student) {
                currentStudent = student;
                
                // 计算总分
                const totalScore = calculateTotal(student.scores);
                
                // 显示学生信息
                document.getElementById("resultRegistrationNo").textContent = student.registrationNo;
                document.getElementById("resultExamNo").textContent = student.examNo;
                document.getElementById("resultName").textContent = student.name;
                
                // 显示各科成绩
                document.getElementById("resultChinese").textContent = student.scores.chinese;
                document.getElementById("resultMath").textContent = student.scores.math;
                document.getElementById("resultEnglish").textContent = student.scores.english;
                document.getElementById("resultPhysics").textContent = student.scores.physics;
                document.getElementById("resultChemistry").textContent = student.scores.chemistry;
                document.getElementById("resultEthics").textContent = student.scores.ethics;
                document.getElementById("resultHistory").textContent = student.scores.history;
                document.getElementById("resultBiology").textContent = student.scores.biology;
                document.getElementById("resultGeography").textContent = student.scores.geography;
                document.getElementById("resultPE").textContent = student.scores.pe;
                document.getElementById("resultTotal").textContent = totalScore;
                
                // 显示结果表格
                document.getElementById("resultTable").style.display = "table";
            } else {
                alert("未找到匹配的成绩信息，请检查报名序号和准考证号是否正确");
                resetResults();
            }
        }

        // 重置表单函数
        function resetForm() {
            document.getElementById("registrationNo").value = "";
            document.getElementById("examNo").value = "";
            resetResults();
        }
        
        // 重置结果函数
        function resetResults() {
            const resultCells = document.querySelectorAll("#resultTable td:not(:first-child)");
            resultCells.forEach(cell => {
                cell.textContent = "";
            });
            document.getElementById("resultTable").style.display = "none";
            currentStudent = null;
        }
        
        // 切换标签页
        function switchTab(tabId, event) {
            // 隐藏所有标签页
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // 取消所有标签的活动状态
            document.querySelectorAll('.nav-tabs li').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // 显示选中的标签页
            document.getElementById(tabId).classList.add('active');
            
            // 设置选中标签的活动状态
            event.currentTarget.classList.add('active');
            
            // 如果是倒计时标签页，初始化倒计时
            if (tabId === 'countdown') {
                updateCountdown();
            }
        }
        
        // 获取考试状态信息
        function getExamStatus(now, examStart, examEnd) {
            // 1. 检查是否在考试期间（6月27日-6月30日）
            if (now >= examStart && now <= examEnd) {
                // 遍历每一天的每个科目，检查当前时间是否在考试时间段内
                for (const day of examDays) {
                    for (const subject of day.subjects) {
                        if (now >= subject.start && now <= subject.end) {
                            // 当前正在考试
                            return {
                                status: "during",
                                day: day.name,
                                currentSubject: subject.name,
                                nextSubject: getNextSubject(day.subjects, subject)
                            };
                        }
                    }
                }

                // 如果不在任何科目的考试时间内，但仍在考试日期范围内
                return {
                    status: "between",
                    day: getCurrentDayName(now)
                };
            }
            // 考试前或考试后的逻辑保持不变
            else if (now < examStart) {
                const diff = examStart - now;
                const days = Math.floor(diff / (1000 * 60 * 60 * 24));
                return { status: "before", days: days };
            } else {
                return { status: "after" };
            }
        }

        // 辅助函数：获取当前是第几天
        function getCurrentDayName(now) {
            for (const day of examDays) {
                if (now >= day.date && now < new Date(day.date.getTime() + 24 * 60 * 60 * 1000)) {
                    return day.name;
                }
            }
            return "";
        }

        // 获取下一科目
        function getNextSubject(subjects, currentSubject) {
            const currentIndex = subjects.findIndex(sub => sub.name === currentSubject.name);
            if (currentIndex < subjects.length - 1) {
                return subjects[currentIndex + 1].name; // 返回当天下一科目
            } else {
                // 如果是当天最后一科，检查是否有下一天的考试
                const currentDayIndex = examDays.findIndex(day => 
                    day.subjects.some(sub => sub.name === currentSubject.name)
                );
                if (currentDayIndex < examDays.length - 1) {
                    return examDays[currentDayIndex + 1].subjects[0].name; // 返回下一天第一科
                }
            }
            return ""; // 没有后续考试
        }

        // 获取当天下一科目
        function getNextSubjectOnDay(dayName) {
            const day = examDays.find(d => d.name === dayName);
            if (!day) return "";
            
            const now = new Date();
            for (let i = 0; i < day.subjects.length; i++) {
                if (now < day.subjects[i].start) {
                    return day.subjects[i].name;
                }
            }
            return "";
        }

        // 获取鼓励话语
        function getEncouragement(statusInfo) {
            const encouragements = [
                "你已经准备了这么久，相信自己一定能行！",
                "保持冷静，发挥出你的最佳水平！",
                "每一分努力都会有回报，加油！",
                "中考只是人生的一站，全力以赴就好！",
                "你已经很棒了，继续保持！"
            ];
            
            if (statusInfo.status === "before") {
                if (statusInfo.days > 7) {
                    return "距离中考还有一段时间，合理安排复习计划！";
                } else if (statusInfo.days > 3) {
                    return "中考即将来临，调整好作息时间！";
                } else if (statusInfo.days > 1) {
                    return "中考就在眼前，保持良好心态！";
                } else {
                    return "明天就是中考了，今晚早点休息！";
                }
            } else if (statusInfo.status === "during") {
                return encouragements[Math.floor(Math.random() * encouragements.length)];
            } else if (statusInfo.status === "between") {
                return "考试间隙，注意休息，准备下一科目！";
            } else {
                return "中考已经结束，好好放松一下吧！";
            }
        }
        
        // 更新倒计时
        function updateCountdown() {
            const examStart = new Date('2025-06-27T08:30:00');
            const examEnd = new Date('2025-06-30T15:40:00');
            const now = new Date();
            
            // 获取考试状态
            const statusInfo = getExamStatus(now, examStart, examEnd);
            
            // 更新状态显示
            const examStatusEl = document.getElementById('examStatus');
            const encouragementEl = document.getElementById('encouragement');
            const nextSubjectEl = document.getElementById('nextSubject');
            
            if (statusInfo.status === "before") {
                // 计算剩余时间
                const diff = examStart - now;
                
                // 计算天数、小时、分钟、秒
                const days = Math.floor(diff / (1000 * 60 * 60 * 24));
                const hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
                const seconds = Math.floor((diff % (1000 * 60)) / 1000);
                
                // 更新显示
                document.getElementById('days').textContent = days;
                document.getElementById('hours').textContent = hours;
                document.getElementById('minutes').textContent = minutes;
                document.getElementById('seconds').textContent = seconds;
                
                examStatusEl.innerHTML = `<div class="alert alert-info">距离2025年中考还有 ${days} 天</div>`;
                encouragementEl.textContent = getEncouragement(statusInfo);
                nextSubjectEl.textContent = "";
            } 
            else if (statusInfo.status === "during") {
                document.getElementById('countdownDisplay').innerHTML = `
                    2025年中考<br>
                    ${statusInfo.day}
                `;
                
                examStatusEl.innerHTML = `
                    <div class="alert alert-info">
                        正在考试：${statusInfo.currentSubject}<br>
                        下一科目：${statusInfo.nextSubject || "无"}
                    </div>
                `;
                encouragementEl.textContent = getEncouragement(statusInfo);
                nextSubjectEl.textContent = "";
            } 
            else if (statusInfo.status === "between") {
                document.getElementById('countdownDisplay').innerHTML = `
                    2025年中考<br>
                    ${statusInfo.day}
                `;
                
                examStatusEl.innerHTML = `
                    <div class="alert alert-warning">
                        当前是${statusInfo.day}，考试间隙<br>
                        下一科目：${getNextSubjectOnDay(statusInfo.day) || "无"}
                    </div>
                `;
                encouragementEl.textContent = getEncouragement(statusInfo);
                nextSubjectEl.textContent = "";
            }
            else {
                document.getElementById('countdownDisplay').innerHTML = "2025年中考已结束";
                examStatusEl.innerHTML = '<div class="alert alert-info">中考已经结束，成绩将于7月12日公布</div>';
                encouragementEl.textContent = getEncouragement(statusInfo);
                nextSubjectEl.textContent = "";
            }
            
            // 计算备考进度（假设备考从2025年2月17日开始）
            const startDate = new Date('2025-02-17');
            const totalDays = (examStart - startDate) / (1000 * 60 * 60 * 24);
            const passedDays = (now - startDate) / (1000 * 60 * 60 * 24);
            let progress = (passedDays / totalDays * 100);
            
            if (progress < 0) progress = 0;
            if (progress > 100) progress = 100;
            
            document.getElementById('progressBar').style.width = progress + "%";
            document.getElementById('progressText').textContent = `中考备考进度：${progress.toFixed(1)}%`;
            
            // 每秒更新一次
            setTimeout(updateCountdown, 1000);
        }
        
        // 添加到日历
        function addToCalendar() {
            alert("已添加到您的日历应用。\n\n注意：这是模拟功能，实际应用中会调用日历API。");
        }
        
        // 初始化页面
        window.onload = function() {
            resetResults();
            
            // 绑定查询按钮事件
            document.getElementById("queryBtn").addEventListener("click", queryScore);
            
            // 绑定重置按钮事件
            document.getElementById("resetBtn").addEventListener("click", resetForm);
            
            // 绑定打印按钮事件
            document.getElementById("printBtn").addEventListener("click", function() {
                window.print();
            });
            
            // 绑定日历按钮事件
            document.getElementById("calendarBtn").addEventListener("click", addToCalendar);
            
            // 绑定标签切换事件
            document.querySelectorAll('#navTabs li').forEach(tab => {
                tab.addEventListener('click', function(event) {
                    switchTab(this.getAttribute('data-tab'), event);
                });
            });
            
            // 初始化倒计时
            updateCountdown();
        };
    </script>
</body>
</html>